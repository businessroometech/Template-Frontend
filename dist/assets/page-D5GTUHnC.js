import{u as B,r,j as e,L as d,m as E,a as I,S as i,b as L,C as m,B as u,R as A,F as H,c as F,d as M,e as O,f as q}from"./index-Cw_JW-sQ.js";import{I as _}from"./index.es-B3nd2sAs.js";import{P as z}from"./PostCard-CchKl8kz.js";import{C as D}from"./CreatePostCard-z4zjVNWv.js";import{L as K}from"./LoadContentButton-x2rZq63o.js";import{R as v}from"./RoleSelectionModal-YWG_9__d.js";import"./CommentItem-BIRPYV8B.js";/* empty css             */import"./Modal-V1TsWTsR.js";const U=f=>{const{user:l}=B(),[n,h]=r.useState([]),[o,c]=r.useState(!0),[a,p]=r.useState(null);r.useRef(!1);const[x,w]=r.useState(),[g,C]=r.useState(1),[j,y]=r.useState(!0),[N,S]=r.useState(!1),k=async()=>{p(null),y(!0);try{const s=await E({method:"POST",url:"api/v1/post/get-all-post",data:{userId:l==null?void 0:l.id,page:g}});if(s.message==="No posts found for this user."){y(!1),console.log("went in");return}c(!1),h(t=>[...t,...s.data])}catch(s){console.error("Error fetching posts:",s.message),p(s.message||"An unknown error occurred")}finally{c(!1)}};r.useEffect(()=>{k()},[g]);const P=()=>{!o&&j&&C(s=>s+1)},R=async()=>{var s;try{const t=await fetch(`${I}api/v1/post/delete-userpost-byPostId`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer YOUR_ACCESS_TOKEN"},body:JSON.stringify({userId:l==null?void 0:l.id,PostId:(s=post.post)==null?void 0:s.Id})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const T=await t.json();console.log(x),w(x+1||1),console.log(x),console.log(T)}catch(t){console.error("Error Deleting post:",t.message)}finally{console.log("call done")}},b=()=>e.jsxs("div",{style:{padding:"16px",marginBottom:"16px",borderRadius:"8px",border:"1px solid #e0e0e0",backgroundColor:"#ffffff"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"},children:[e.jsx(i,{circle:!0,width:50,height:50}),e.jsxs("div",{style:{marginLeft:"16px",flex:1},children:[e.jsx(i,{width:"60%",height:20}),e.jsx(i,{width:"40%",height:16,style:{marginTop:"8px"}})]})]}),e.jsx(i,{width:"100%",height:200}),e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsx(i,{width:"80%",height:16}),e.jsx(i,{width:"95%",height:16,style:{marginTop:"8px"}}),e.jsx(i,{width:"60%",height:16,style:{marginTop:"8px"}})]})]});return o?e.jsx("div",{style:{minHeight:"110vh",padding:"16px"},children:[...Array(5)].map((s,t)=>e.jsx(b,{},t))}):a?e.jsxs("div",{children:["Error: ",a]}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"position-relative",style:{position:"sticky",maxHeight:"500px",WebkitOverflowScrolling:"touch",marginLeft:"0"},children:e.jsxs(_,{dataLength:n.length,next:P,hasMore:j,loader:e.jsx("div",{children:[...Array(5)].map((s,t)=>e.jsx(b,{},t))}),endMessage:e.jsx("div",{style:{textAlign:"center",marginTop:"1rem"},children:e.jsx("strong",{children:"No more posts are available."})}),children:[N&&e.jsx(d,{to:"/feed/home#",className:"btn-primary",onClick:()=>S(!1),style:{zIndex:99,top:"4em",position:"fixed",left:"47%"},children:"⬆️ New Posts"}),n.map((s,t)=>e.jsx(z,{item:s,isMediaKeys:!1,onDelete:R},s.Id||t))]})})})},ee=()=>{const[f,l]=r.useState(!1),[n,h]=r.useState(!1),o=L(),c=a=>{console.log("Selected role:",a),a==="entrepreneur"?o("/entreprenuer"):a==="investor"?o("/investor"):a==="acquirer"?o("/business-acquirer"):a==="seller"?o("/business-seller"):alert("Error: Invalid role Id")};return n?e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(v,{show:n,onHide:()=>h(!1),onSelectRole:c})}):e.jsxs(e.Fragment,{children:[e.jsxs(m,{md:8,lg:6,style:{maxHeight:"5em"},className:"vstack gap-4 ",children:[e.jsx(D,{setIsCreated:l}),e.jsxs("div",{className:"d-flex justify-content-between gap-3 px-1 py-2",children:[e.jsx(u,{variant:"primary",className:"w-100",style:{backgroundColor:"red",borderColor:"red",fontWeight:"bold"},onClick:()=>{o("/live/")},children:"Live"}),e.jsx(u,{variant:"outline-primary",className:"w-100",style:{borderColor:"#0f6fec",backgroundColor:"#0f6fec",color:"white"},onClick:()=>{o("/join-live")},children:"Businessroom Live"}),e.jsx(u,{variant:"outline-success",className:"w-100 bg-success",style:{backgroundColor:"#0f6fec",color:"white"},onClick:()=>{o("/marketplace")},children:"Acquireroom"})]}),e.jsx(v,{show:n,onHide:()=>h(!1),onSelectRole:c}),e.jsx(U,{isCreated:f})]}),e.jsx(m,{lg:3,style:{marginTop:"0px"},children:e.jsxs(A,{className:"g-4",children:[e.jsx(m,{sm:6,lg:12,children:e.jsx(H,{})}),e.jsx(m,{sm:6,lg:12,style:{},children:e.jsxs(F,{children:[e.jsx(M,{className:"pb-0 border-0",children:e.jsx(O,{className:"mb-0",children:"Businessroom News"})}),e.jsxs(q,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{className:"mb-0",children:e.jsx(d,{to:"/blogs/details",children:"Ten questions you should answer truthfully"})}),e.jsx("small",{children:"2hr"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{className:"mb-0",children:e.jsx(d,{to:"/blogs/details",children:"Five unbelievable facts about money"})}),e.jsx("small",{children:"3hr"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{className:"mb-0",children:e.jsx(d,{to:"/blogs/details",children:"Best Pinterest Boards for learning about business"})}),e.jsx("small",{children:"4hr"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{className:"mb-0",children:e.jsx(d,{to:"/blogs/details",children:"Skills that you can learn from business"})}),e.jsx("small",{children:"6hr"})]}),e.jsx(K,{name:"View all latest news"})]})]})})]})})]})};export{ee as default};
